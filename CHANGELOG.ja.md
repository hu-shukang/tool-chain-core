# 変更履歴

このプロジェクトの全ての重要な変更がこのファイルに記録されます。

形式は[Keep a Changelog](https://keepachangelog.com/ja/1.0.0/)に従い、
このプロジェクトは[セマンティック バージョニング](https://semver.org/lang/ja/spec/v2.0.0.html)に準拠しています。

## [1.1.2] - 2025-12-02

### 追加
- **日本語ドキュメント**：新しい包括的な日本語ドキュメント
  - 完全な README.ja.md 日本語版
  - 完全な CHANGELOG.ja.md 日本語版（全バージョン履歴を含む）
  - 日本語話者ユーザーの完全サポート

- **ライセンスファイル**：MIT LICENSE ファイルをプロジェクトに追加
  - オープンソース配布のための適切なライセンス
  - npm パッケージ配布に含まれます

### 変更
- package.json の `files` フィールドを更新してすべてのドキュメントファイルを含める
  - 日本語ユーザー用に README.ja.md を追加
  - 日本語版バージョン履歴用に CHANGELOG.ja.md を追加
  - LICENSE ファイルを配布に追加

## [1.1.1] - 2025-12-02

### 修正
- package.json に `files` フィールドを追加して npm パッケージ公開設定を修正
  - 公開された npm パッケージに `dist/` フォルダのみが含まれるようになりました
  - 開発ファイル（src、tests、.claude）は配布から除外されます
  - 設定ファイル（eslintrc、jest.config、tsconfig.json）は含まれなくなりました
  - パッケージサイズを削減し、インストール時に不要なファイルの取得を防ぎます

## [1.1.0] - 2024-12-02

### 追加
- **Tasks クラス**：シーケンシャルなタスク実行の新しい軽量な代替案
  - `.addTask()` メソッドでタスクを順序実行
  - `next(param)` によるタイプセーフなパラメータ伝達
  - `finish()` メソッドでの早期終了をサポート
  - `next()` が呼び出されないとき自動的に終了
  - 二層設計：Tasks（基本クラス）と TasksWithTasks（invoke付き）
  - ファクトリ関数 `createTasks()` で便利なインスタンス化

- **ドキュメント**：Tasks の包括的なドキュメント
  - Chains と Tasks 両方を示すクイックスタート例
  - コード例付きの詳細な Tasks 使用ガイド
  - README での Chains と Tasks の機能比較
  - Tasks 機能のテスト実例

- **テスト**：Tasks クラスの新しいテストスイート
  - 全 Tasks 機能をカバーする 15 のテストケース
  - タイプセーフなパラメータ伝達テスト
  - エラー処理テスト
  - ファクトリ関数テスト

### 変更
- README ファイルを更新し、クイック例に Tasks を含める
- ドキュメント構造を再編成し、Chains と Tasks の使用方法を明確に区別
- プロジェクト構造ドキュメントを更新し、新しいファイルを含める

## [1.0.1] - 2024-12-02

### 修正
- README ファイル内のリポジトリリンクを一貫性のために更新

### 変更
- package.json のバージョンを 1.0.1 に更新

## [1.0.0] - 2024-12-02

### 追加
- **Chains クラス**：完全な TypeScript サポート付きの強力な連鎖非同期実行
  - `.chain()` メソッドで複数の非同期操作を連鎖
  - チェーン全体を通じて全ての履歴結果（r1, r2, r3...）にアクセス
  - 20+ ステップチェーンの自動タイプ推論
  - 完全なタイプ定義ファイル（.d.ts）

- **Tasks クラス**：パラメータ伝達をサポートする軽量な順序実行
  - `.addTask()` メソッドでタスクを順序実行
  - `next(param)` でタイプセーフなパラメータ伝達
  - `finish()` メソッドでの早期終了をサポート
  - タスクが `next()` を呼び出さない場合、自動的に終了
  - 二層設計：Tasks（基本クラス）と TasksWithTasks（invoke付き）

- **エラー処理**
  - デフォルトスロー模式：エラーが即座に中断
  - キャプチャ模式：`{ withoutThrow: true }` でステップごとにエラーをキャプチャ
  - ミックス模式：同じチェーン内で両方の戦略を混合（Chainsのみ）
  - Tasks での適切なエラー伝播

- **リトライとタイムアウト機能**（Chainsのみ）
  - 自動リトライ、カスタマイズ可能なリトライ回数
  - スマートなリトライ条件：エラータイプ、メッセージ、または正規表現で
  - 設定可能なリトライ遅延
  - 実行タイムアウト制御
  - タイムアウトエラー処理

- **ファクトリ関数**
  - `createChains<T>()` - Chains のファクトリ関数
  - `createTasks()` - Tasks のファクトリ関数

- **モジュール対応**
  - ESM（ES モジュール）- モダン JavaScript モジュール形式
  - CommonJS - Node.js 標準モジュール形式
  - 自動モジュール検出、手動設定不要
  - 両形式の完全なタイプ定義

- **ドキュメント**
  - 英文、中文、日文の完全な README
  - Chains と Tasks のクイックスタート例
  - コード例付きの詳細な使用ガイド
  - API リファレンスドキュメント
  - 開発と貢献ガイドライン

- **テスト**
  - 全機能をカバーする 64+ の包括的なテストケース
  - パラメータ伝達、エラー処理、エッジケースのテスト
  - Chains と Tasks 機能のテストカバレッジ
  - リトライ、タイムアウト、エラーシナリオのテスト

- **ビルドシステム**
  - ESM と CommonJS の TypeScript コンパイル
  - タイプ定義生成
  - Jest テストフレームワーク
  - ESLint と Prettier コード品質ツール
  - 開発時の監視モード

### 比較：Chains vs Tasks

#### Chains
- 適用対象：複数の履歴結果が必要なパイプライン
- API：`.chain()` メソッド、結果オブジェクト（r1, r2, r3...）付き
- 機能：完全な結果履歴、エラーキャプチャ模式、リトライ/タイムアウト
- タイプセーフ：20+ ステップチェーンをサポート

#### Tasks
- 適用対象：線形データフローの順序実行
- API：`.addTask()` メソッド、`next(param)` でのパラメータ伝達
- 機能：明確なパラメータフロー、オプショナルな早期終了
- タイプセーフ：完全なタイプセーフパラメータ伝達

[1.1.0]: https://github.com/hu-shukang/tool-chain-core/compare/v1.0.1...v1.1.0
[1.0.1]: https://github.com/hu-shukang/tool-chain-core/compare/v1.0.0...v1.0.1
[1.0.0]: https://github.com/hu-shukang/tool-chain-core/releases/tag/v1.0.0
